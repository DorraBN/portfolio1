<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CODEX DEVELOPER - Portfolio Jeu</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Orbitron:wght@400;700;900&family=Ubuntu+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --pixel-blue: #00a8ff;
            --pixel-green: #4cd137;
            --pixel-red: #e84118;
            --pixel-yellow: #fbc531;
            --pixel-purple: #9c88ff;
            --terminal-black: #0f0f23;
            --terminal-green: #00ff41;
            --terminal-cyan: #0af;
            --pixel-grid: rgba(0, 255, 65, 0.05);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            image-rendering: pixelated;
        }
        
        body {
            font-family: 'Ubuntu Mono', monospace;
            background: var(--terminal-black);
            color: var(--terminal-green);
            overflow-x: hidden;
            min-height: 100vh;
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(0, 168, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(156, 136, 255, 0.1) 0%, transparent 50%),
                linear-gradient(to bottom, transparent 95%, var(--pixel-grid) 100%),
                linear-gradient(to right, transparent 95%, var(--pixel-grid) 100%);
            background-size: 100% 100%, 100% 100%, 50px 50px, 50px 50px;
        }
        
        .game-container {
            width: 100%;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }
        
        /* Barre lat√©rale (pbarre) - Version mobile am√©lior√©e */
        .sidebar {
            position: fixed;
            top: 0;
            left: -100%;
            width: 85%;
            height: 100%;
            background: rgba(20, 20, 40, 0.98);
            border-right: 3px solid var(--terminal-green);
            z-index: 1000;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            overflow-y: auto;
            backdrop-filter: blur(15px);
            box-shadow: 5px 0 40px rgba(0, 0, 0, 0.9);
            display: flex;
            flex-direction: column;
        }
        
        .sidebar.open {
            left: 0;
        }
        
        .sidebar-header {
            padding: 25px 20px;
            border-bottom: 2px solid var(--pixel-blue);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 0, 0, 0.4);
            position: sticky;
            top: 0;
            z-index: 2;
        }
        
        .sidebar-title {
            font-family: 'Press Start 2P', cursive;
            color: var(--terminal-green);
            font-size: 0.9rem;
            text-shadow: 0 0 10px var(--terminal-green);
        }
        
        .close-sidebar {
            background: var(--pixel-red);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(232, 65, 24, 0.4);
        }
        
        .close-sidebar:hover, .close-sidebar:active {
            transform: scale(1.1);
            background: #ff3838;
        }
        
        .sidebar-content {
            padding: 20px;
            flex-grow: 1;
            overflow-y: auto;
        }
        
        .sidebar-node {
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.4), rgba(30, 30, 50, 0.6));
            border-radius: 12px;
            padding: 18px;
            margin-bottom: 15px;
            border-left: 5px solid var(--pixel-green);
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid rgba(0, 255, 65, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .sidebar-node:active {
            transform: scale(0.98);
        }
        
        .sidebar-node:hover {
            transform: translateX(5px);
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.6), rgba(40, 40, 60, 0.8));
            border-color: var(--terminal-green);
            box-shadow: 0 5px 20px rgba(0, 255, 65, 0.3);
        }
        
        .sidebar-node.active {
            border-color: var(--pixel-blue);
            background: linear-gradient(135deg, rgba(0, 168, 255, 0.2), rgba(0, 0, 0, 0.4));
        }
        
        /* CHANGEMENT : Police Ubuntu Mono pour le contenu de la sidebar */
        .sidebar-node-title {
            color: var(--terminal-green);
            font-size: 1rem;
            margin-bottom: 8px;
            font-family: 'Ubuntu Mono', monospace;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: bold;
        }
        
        .sidebar-node-desc {
            color: var(--terminal-cyan);
            font-size: 0.85rem;
            line-height: 1.4;
            font-family: 'Ubuntu Mono', monospace;
        }
        
        .sidebar-node-icon {
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 1.1rem;
        }
        
        /* Bouton pour ouvrir/fermer la sidebar - Mobile friendly */
        .sidebar-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            background: linear-gradient(135deg, var(--pixel-purple), var(--pixel-blue));
            color: white;
            border: none;
            width: 55px;
            height: 55px;
            border-radius: 15px;
            cursor: pointer;
            z-index: 1001;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            transition: all 0.3s;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.6);
            border: 3px solid rgba(255, 255, 255, 0.3);
        }
        
        .sidebar-toggle:active {
            transform: scale(0.95);
        }
        
        .sidebar-toggle:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(0, 168, 255, 0.5);
        }
        
        .sidebar-toggle.open {
            left: calc(85% - 40px);
            transform: rotate(180deg);
        }
        
        .sidebar-toggle.open:hover, .sidebar-toggle.open:active {
            transform: rotate(180deg) scale(1.05);
        }
        
        /* Overlay pour mobile */
        .sidebar-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 999;
            backdrop-filter: blur(5px);
            opacity: 0;
            transition: opacity 0.4s;
        }
        
        .sidebar-overlay.active {
            display: block;
            opacity: 1;
        }
        
        /* √âcran de d√©marrage - Version mobile am√©lior√©e */
        .start-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            font-family: 'Press Start 2P', cursive;
            text-align: center;
            padding: 20px;
            overflow-y: auto;
        }
        
        .game-title {
            font-size: clamp(2rem, 8vw, 3.5rem);
            margin-bottom: 20px;
            color: var(--terminal-green);
            text-shadow: 
                0 0 10px var(--terminal-green),
                0 0 20px var(--terminal-green);
            animation: glitch 3s infinite;
            line-height: 1.3;
            padding: 0 10px;
        }
        
        @keyframes glitch {
            0%, 100% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(2px, -2px); }
        }
        
        .subtitle {
            font-size: clamp(0.9rem, 4vw, 1.2rem);
            color: var(--pixel-blue);
            margin-bottom: 40px;
            font-family: 'Ubuntu Mono', monospace;
            padding: 0 20px;
            line-height: 1.5;
        }
        
        .pixel-avatar {
            width: clamp(100px, 40vw, 150px);
            height: clamp(100px, 40vw, 150px);
            margin-bottom: 30px;
            background: linear-gradient(45deg, var(--pixel-blue), var(--pixel-purple));
            border-radius: 20px;
            position: relative;
            overflow: hidden;
            border: 4px solid var(--terminal-green);
            box-shadow: 
                0 0 20px var(--terminal-green),
                inset 0 0 20px rgba(0, 255, 65, 0.2);
        }
        
        .pixel-avatar::before {
            content: "DEV";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: clamp(2rem, 10vw, 3rem);
            font-weight: bold;
            color: white;
            font-family: 'Press Start 2P', cursive;
        }
        
        .start-button {
            padding: clamp(15px, 5vw, 20px) clamp(30px, 10vw, 50px);
            font-family: 'Press Start 2P', cursive;
            font-size: clamp(1rem, 4vw, 1.2rem);
            background: var(--pixel-red);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            margin-bottom: 30px;
            box-shadow: 0 10px 0 #c23616;
            min-width: 200px;
            max-width: 90%;
        }
        
        .start-button:active {
            transform: translateY(5px);
            box-shadow: 0 5px 0 #c23616;
        }
        
        .controls-info {
            margin-top: 30px;
            color: var(--pixel-yellow);
            font-size: clamp(0.8rem, 3vw, 0.9rem);
            line-height: 1.8;
            padding: 0 15px;
            max-width: 500px;
            font-family: 'Ubuntu Mono', monospace;
        }
        
        .controls-info p {
            margin-bottom: 15px;
        }
        
        /* Interface de jeu - Version mobile */
        .game-interface {
            display: none;
            width: 100%;
            min-height: 100vh;
            position: relative;
        }
        
        .game-hud {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            background: rgba(15, 15, 35, 0.95);
            border-bottom: 3px solid var(--terminal-green);
            font-family: 'Ubuntu Mono', monospace;
            backdrop-filter: blur(10px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
        }
        
        .player-stats {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
        }
        
        .stat {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .stat-icon {
            width: 30px;
            height: 30px;
            background: var(--pixel-blue);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.9rem;
        }
        
        .stat-value {
            font-size: 0.9rem;
            font-weight: bold;
            color: white;
            white-space: nowrap;
            font-family: 'Ubuntu Mono', monospace;
        }
        
        .game-title-hud {
            font-family: 'Press Start 2P', cursive;
            font-size: clamp(0.8rem, 4vw, 1.5rem);
            color: var(--terminal-green);
            text-align: center;
            flex-grow: 1;
            margin: 0 10px;
        }
        
        .level-indicator {
            color: var(--pixel-yellow);
            font-size: 0.8rem;
            white-space: nowrap;
            font-family: 'Ubuntu Mono', monospace;
        }
        
        /* Zone de jeu principale - Mobile */
        .game-world {
            padding-top: 80px;
            padding-bottom: 80px;
            width: 100%;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            transition: all 0.4s ease;
        }
        
        .game-world.with-sidebar {
            transform: translateX(85%);
            filter: brightness(0.3);
            pointer-events: none;
        }
        
        .game-map {
            flex: 1;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            padding: 20px;
            overflow-y: auto;
        }
        
        .map-node {
            background: linear-gradient(135deg, rgba(30, 30, 46, 0.95), rgba(20, 20, 35, 0.95));
            border-radius: 20px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            border: 2px solid transparent;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .map-node:active {
            transform: translateY(2px);
        }
        
        .map-node:hover {
            transform: translateY(-8px);
            border-color: var(--terminal-green);
            box-shadow: 0 15px 40px rgba(0, 255, 65, 0.3);
        }
        
        .node-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(45deg, var(--pixel-green), var(--pixel-blue));
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            font-size: 1.8rem;
            color: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        /* CHANGEMENT : Police Ubuntu Mono pour les n≈ìuds */
        .node-title {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: var(--terminal-green);
            font-weight: bold;
            font-family: 'Ubuntu Mono', monospace;
        }
        
        .node-desc {
            font-size: 0.9rem;
            color: var(--terminal-cyan);
            line-height: 1.5;
            font-family: 'Ubuntu Mono', monospace;
        }
        
        .node-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--pixel-red);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.7rem;
            font-family: 'Press Start 2P', cursive;
            box-shadow: 0 4px 10px rgba(232, 65, 24, 0.3);
        }
        
        /* Console terminal - Mobile */
        .game-console {
            background: rgba(0, 0, 0, 0.95);
            border-top: 3px solid var(--terminal-green);
            padding: 20px;
            font-family: 'Ubuntu Mono', monospace;
            overflow-y: auto;
            max-height: 300px;
        }
        
        .console-header {
            color: var(--terminal-green);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--terminal-green);
            font-family: 'Press Start 2P', cursive;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .console-output {
            height: 180px;
            overflow-y: auto;
            margin-bottom: 15px;
            padding-right: 10px;
        }
        
        .console-line {
            margin-bottom: 8px;
            line-height: 1.4;
            color: var(--terminal-cyan);
            font-size: 0.9rem;
            word-break: break-word;
            font-family: 'Ubuntu Mono', monospace;
        }
        
        .console-line.user {
            color: var(--pixel-yellow);
        }
        
        .console-line.system {
            color: var(--terminal-green);
        }
        
        .console-input {
            width: 100%;
            background: transparent;
            border: none;
            border-top: 1px solid var(--terminal-green);
            padding: 15px 0;
            color: var(--pixel-yellow);
            font-family: 'Ubuntu Mono', monospace;
            font-size: 1rem;
            outline: none;
        }
        
        .console-input::placeholder {
            color: rgba(0, 255, 65, 0.5);
        }
        
        /* Fen√™tre modale de projet - Mobile */
        .project-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 800px;
            max-height: 85vh;
            background: rgba(20, 20, 40, 0.98);
            border: 3px solid var(--terminal-green);
            border-radius: 25px;
            padding: 25px;
            z-index: 1000;
            display: none;
            backdrop-filter: blur(20px);
            box-shadow: 0 20px 60px rgba(0, 255, 65, 0.4);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--pixel-blue);
            position: sticky;
            top: 0;
            background: rgba(20, 20, 40, 0.98);
            z-index: 1;
            padding-top: 10px;
        }
        
        .modal-title {
            font-size: clamp(1.2rem, 5vw, 2rem);
            color: var(--terminal-green);
            font-family: 'Press Start 2P', cursive;
            text-align: center;
            flex-grow: 1;
            padding-right: 20px;
        }
        
        .close-modal {
            background: var(--pixel-red);
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            font-size: 1.8rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            flex-shrink: 0;
            box-shadow: 0 4px 15px rgba(232, 65, 24, 0.4);
        }
        
        .close-modal:active {
            transform: scale(0.95);
            background: #ff3838;
        }
        
        .modal-content {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        
        .project-screenshot {
            width: 100%;
            height: 200px;
            background: linear-gradient(45deg, var(--pixel-purple), var(--pixel-blue));
            border-radius: 20px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            font-family: 'Press Start 2P', cursive;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        }
        
        .project-screenshot::before {
            content: "";
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%);
            animation: scan 2s infinite linear;
        }
        
        @keyframes scan {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .project-info {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }
        
        .info-box {
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.4), rgba(30, 30, 50, 0.6));
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid var(--pixel-green);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        }
        
        /* CHANGEMENT : Police Ubuntu Mono pour les titres et contenu de la modale */
        .info-title {
            color: var(--pixel-yellow);
            margin-bottom: 15px;
            font-size: 1.1rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
            font-family: 'Ubuntu Mono', monospace;
        }
        
        .info-content {
            color: var(--terminal-cyan);
            line-height: 1.6;
            font-size: 0.95rem;
            font-family: 'Ubuntu Mono', monospace;
        }
        
        .info-content ul {
            list-style-type: none;
            padding-left: 0;
        }
        
        .info-content li {
            margin-bottom: 10px;
            padding-left: 25px;
            position: relative;
        }
        
        .info-content li:before {
            content: "‚ñ∏";
            color: var(--terminal-green);
            position: absolute;
            left: 0;
            font-size: 1.2rem;
        }
        
        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
        
        .tech-tag {
            background: linear-gradient(135deg, var(--pixel-blue), #2980b9);
            color: white;
            padding: 8px 18px;
            border-radius: 25px;
            font-size: 0.85rem;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(0, 168, 255, 0.3);
            font-family: 'Ubuntu Mono', monospace;
        }
        
        .project-actions {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 30px;
        }
        
        .action-button {
            padding: 18px 25px;
            background: linear-gradient(135deg, var(--pixel-green), #27ae60);
            color: white;
            border: none;
            border-radius: 15px;
            font-family: 'Ubuntu Mono', monospace;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            font-size: 1.1rem;
            box-shadow: 0 8px 25px rgba(76, 209, 55, 0.4);
        }
        
        .action-button:active {
            transform: translateY(2px);
            box-shadow: 0 4px 15px rgba(76, 209, 55, 0.4);
        }
        
        .action-button.secondary {
            background: transparent;
            border: 2px solid var(--pixel-blue);
            color: var(--pixel-blue);
            box-shadow: 0 8px 25px rgba(0, 168, 255, 0.3);
        }
        
        /* Footer du jeu - Mobile */
        .game-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: rgba(15, 15, 35, 0.95);
            padding: 15px 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            border-top: 3px solid var(--terminal-green);
            backdrop-filter: blur(10px);
            box-shadow: 0 -5px 25px rgba(0, 0, 0, 0.5);
            z-index: 100;
        }
        
        .command-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        
        .command {
            background: linear-gradient(135deg, rgba(0, 168, 255, 0.3), rgba(156, 136, 255, 0.3));
            border: 2px solid var(--pixel-blue);
            color: var(--pixel-blue);
            padding: 10px 16px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: bold;
            min-width: 90px;
            justify-content: center;
            font-family: 'Ubuntu Mono', monospace;
        }
        
        .command:active {
            transform: scale(0.95);
            background: var(--pixel-blue);
            color: white;
        }
        
        .quick-contact {
            color: var(--pixel-yellow);
            font-size: 0.9rem;
            text-align: center;
            padding-top: 10px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-family: 'Ubuntu Mono', monospace;
        }
        
        .quick-contact a {
            color: var(--terminal-green);
            text-decoration: none;
            font-weight: bold;
            word-break: break-all;
        }
        
        /* Animation de chargement */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--terminal-black);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 3000;
            font-family: 'Press Start 2P', cursive;
        }
        
        .loading-text {
            color: var(--terminal-green);
            font-size: clamp(1rem, 5vw, 1.5rem);
            margin-bottom: 40px;
            text-align: center;
            padding: 0 20px;
        }
        
        .loading-bar {
            width: 80%;
            max-width: 300px;
            height: 25px;
            background: rgba(0, 255, 65, 0.1);
            border: 2px solid var(--terminal-green);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(0, 255, 65, 0.3);
        }
        
        .loading-progress {
            height: 100%;
            background: linear-gradient(90deg, var(--terminal-green), var(--pixel-green));
            width: 0%;
            transition: width 0.3s;
        }
        
        /* Changement de langue */
        .language-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1001;
        }
        
        .lang-button {
            background: linear-gradient(135deg, var(--pixel-green), var(--pixel-blue));
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-family: 'Ubuntu Mono', monospace;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s;
        }
        
        .lang-button:active {
            transform: scale(0.95);
        }
        
        /* Responsive - Optimisations mobiles */
        @media (max-width: 768px) {
            .game-world.with-sidebar {
                transform: translateX(85%);
            }
            
            .sidebar-toggle.open {
                left: calc(85% - 40px);
            }
            
            .game-map {
                grid-template-columns: 1fr;
                padding: 15px;
                gap: 15px;
            }
            
            .map-node {
                padding: 20px;
                min-height: 180px;
            }
            
            .node-icon {
                width: 60px;
                height: 60px;
                font-size: 1.5rem;
            }
            
            .node-title {
                font-size: 1.1rem;
            }
            
            .node-desc {
                font-size: 0.85rem;
            }
            
            .player-stats {
                display: none; /* Cacher les stats sur mobile pour √©conomiser de l'espace */
            }
            
            .level-indicator {
                display: none;
            }
            
            .game-title-hud {
                font-size: 0.9rem;
                margin: 0;
            }
            
            .game-hud {
                padding: 12px 15px;
                justify-content: center;
            }
            
            .command-list {
                gap: 8px;
            }
            
            .command {
                padding: 8px 12px;
                font-size: 0.8rem;
                min-width: auto;
                flex: 1;
                justify-content: center;
            }
            
            .project-modal {
                width: 95%;
                padding: 20px;
                max-height: 90vh;
            }
            
            .modal-header {
                padding-bottom: 15px;
                margin-bottom: 20px;
            }
            
            .project-screenshot {
                height: 180px;
                font-size: 1.2rem;
            }
            
            .action-button {
                padding: 16px 20px;
                font-size: 1rem;
            }
            
            .language-switcher {
                top: 85px;
                right: 15px;
            }
            
            .lang-button {
                padding: 8px 15px;
                font-size: 0.9rem;
            }
        }
        
        @media (max-width: 480px) {
            .sidebar {
                width: 90%;
            }
            
            .game-world.with-sidebar {
                transform: translateX(90%);
            }
            
            .sidebar-toggle.open {
                left: calc(90% - 40px);
            }
            
            .game-map {
                padding: 10px;
            }
            
            .map-node {
                padding: 15px;
                min-height: 160px;
                border-radius: 15px;
            }
            
            .node-icon {
                width: 50px;
                height: 50px;
                font-size: 1.3rem;
                border-radius: 15px;
                margin-bottom: 15px;
            }
            
            .node-title {
                font-size: 1rem;
                margin-bottom: 8px;
            }
            
            .node-desc {
                font-size: 0.8rem;
                line-height: 1.4;
            }
            
            .game-footer {
                padding: 12px 15px;
                gap: 12px;
            }
            
            .command {
                padding: 6px 10px;
                font-size: 0.75rem;
                gap: 5px;
            }
            
            .quick-contact {
                font-size: 0.8rem;
            }
            
            .project-modal {
                width: 98%;
                padding: 15px;
                border-radius: 20px;
            }
            
            .modal-title {
                font-size: 1rem;
            }
            
            .close-modal {
                width: 35px;
                height: 35px;
                font-size: 1.5rem;
            }
            
            .project-screenshot {
                height: 150px;
                font-size: 1rem;
                border-radius: 15px;
            }
            
            .info-box {
                padding: 15px;
                border-radius: 12px;
            }
            
            .info-title {
                font-size: 1rem;
                margin-bottom: 10px;
            }
            
            .info-content {
                font-size: 0.9rem;
            }
            
            .tech-tag {
                padding: 6px 12px;
                font-size: 0.75rem;
            }
            
            .action-button {
                padding: 14px 18px;
                font-size: 0.9rem;
                border-radius: 12px;
            }
            
            .sidebar-node {
                padding: 15px;
                margin-bottom: 12px;
                border-radius: 10px;
            }
            
            .sidebar-node-title {
                font-size: 0.9rem;
            }
            
            .sidebar-node-desc {
                font-size: 0.8rem;
            }
            
            .sidebar-node-icon {
                width: 25px;
                height: 25px;
                font-size: 0.9rem;
            }
        }
        
        @media (min-width: 769px) {
            .sidebar {
                width: 320px;
                left: -320px;
                top: 100px;
                height: calc(100% - 180px);
                border-radius: 0 15px 15px 0;
            }
            
            .sidebar.open {
                left: 0;
            }
            
            .game-world.with-sidebar {
                transform: translateX(320px);
                width: calc(100% - 320px);
            }
            
            .sidebar-toggle {
                top: 120px;
                left: 20px;
            }
            
            .sidebar-toggle.open {
                left: 340px;
            }
            
            .game-world {
                padding-top: 100px;
                padding-bottom: 100px;
                flex-direction: row;
            }
            
            .game-map {
                flex: 3;
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            }
            
            .game-console {
                flex: 1;
                border-left: 3px solid var(--terminal-green);
                border-top: none;
                max-height: calc(100vh - 180px);
            }
            
            .game-footer {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
                padding: 20px;
            }
            
            .command-list {
                justify-content: flex-start;
            }
            
            .quick-contact {
                border-top: none;
                padding-top: 0;
                text-align: right;
            }
            
            .language-switcher {
                top: 30px;
                right: 30px;
            }
        }
        
        /* Mode portrait/landscape d√©tection */
        @media (orientation: landscape) and (max-height: 600px) {
            .game-hud {
                padding: 10px 15px;
            }
            
            .game-world {
                padding-top: 70px;
                padding-bottom: 70px;
            }
            
            .game-footer {
                padding: 10px 15px;
            }
            
            .map-node {
                min-height: 140px;
                padding: 15px;
            }
            
            .node-icon {
                width: 50px;
                height: 50px;
                margin-bottom: 10px;
            }
            
            .node-title {
                font-size: 1rem;
                margin-bottom: 5px;
            }
            
            .node-desc {
                font-size: 0.8rem;
            }
            
            .project-modal {
                max-height: 95vh;
                padding: 20px;
            }
            
            .project-screenshot {
                height: 150px;
            }
            
            .language-switcher {
                top: 15px;
                right: 15px;
            }
        }
        
        /* Am√©liorations tactiles */
        @media (hover: none) and (pointer: coarse) {
            .map-node:hover {
                transform: none;
            }
            
            .sidebar-node:hover {
                transform: none;
            }
            
            .command:hover {
                background: rgba(0, 168, 255, 0.2);
                color: var(--pixel-blue);
            }
            
            .action-button:hover {
                transform: none;
            }
            
            .sidebar-toggle:hover {
                transform: none;
            }
        }
    </style>
</head>

<body>
    <!-- √âcran de d√©marrage -->
    <div class="start-screen" id="startScreen">
        <div class="pixel-avatar"></div>
        <h1 class="game-title">CODEX DEVELOPER</h1>
        <p class="subtitle">PORTFOLIO INTERACTIF - NIVEAU PRO</p>
        <button class="start-button" id="startButton">
            <i class="fas fa-play"></i> COMMENCER LE JEU
        </button>
        <div class="controls-info">
            <p>üéÆ <strong>CONTR√îLES:</strong> Touchez les n≈ìuds pour explorer</p>
            <p>‚å®Ô∏è <strong>CONSOLE:</strong> Tapez des commandes pour interagir</p>
            <p>üåü <strong>OBJECTIF:</strong> D√©couvrez tous les projets et comp√©tences</p>
            <p>üì± <strong>OPTIMIS√â MOBILE:</strong> Interface tactile fluide</p>
            <p>üëÜ <strong>MENU:</strong> Touchez <i class="fas fa-bars"></i> pour naviguer</p>
        </div>
    </div>
    
    <!-- √âcran de chargement -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-text">CHARGEMENT DU PORTFOLIO...</div>
        <div class="loading-bar">
            <div class="loading-progress" id="loadingProgress"></div>
        </div>
    </div>
    
    <!-- Interface principale du jeu -->
    <div class="game-container">
        <!-- Overlay pour mobile -->
        <div class="sidebar-overlay" id="sidebarOverlay"></div>
        
        <!-- Bouton changement de langue -->
        <div class="language-switcher">
            <button class="lang-button" id="langButton">
                <i class="fas fa-globe"></i> EN
            </button>
        </div>
        
        <!-- Barre lat√©rale (pbarre) -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h3 class="sidebar-title" id="sidebarTitle">MENU DE NAVIGATION</h3>
                <button class="close-sidebar" id="closeSidebar">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="sidebar-content" id="sidebarContent">
                <!-- Les n≈ìuds seront ajout√©s dynamiquement ici -->
            </div>
        </div>
        
        <!-- Bouton pour ouvrir/fermer la sidebar -->
        <button class="sidebar-toggle" id="sidebarToggle">
            <i class="fas fa-bars"></i>
        </button>
        
        <div class="game-interface" id="gameInterface">
            <!-- HUD du jeu -->
            <div class="game-hud">
                <div class="player-stats">
                    <div class="stat">
                        <div class="stat-icon"><i class="fas fa-code"></i></div>
                        <div class="stat-value">NIVEAU <span id="playerLevel">15</span></div>
                    </div>
                    <div class="stat">
                        <div class="stat-icon"><i class="fas fa-star"></i></div>
                        <div class="stat-value"><span id="xpPoints">2470</span> XP</div>
                    </div>
                    <div class="stat">
                        <div class="stat-icon"><i class="fas fa-project-diagram"></i></div>
                        <div class="stat-value">PROJETS: <span id="projectsCount">0</span>/6</div>
                    </div>
                </div>
                
                <div class="game-title-hud">CODEX DEVELOPER</div>
                
                <div class="level-indicator">
                    <i class="fas fa-map-marker-alt"></i> ZONE: PORTFOLIO
                </div>
            </div>
            
            <!-- Monde du jeu -->
            <div class="game-world" id="gameWorld">
                <!-- Carte des projets/comp√©tences -->
                <div class="game-map" id="gameMap">
                    <!-- Les n≈ìuds seront ajout√©s dynamiquement -->
                </div>
                
                <!-- Console terminal -->
                <div class="game-console">
                    <div class="console-header">
                        <i class="fas fa-terminal"></i> TERMINAL DE COMMANDES
                    </div>
                    <div class="console-output" id="consoleOutput">
                        <div class="console-line system">> Syst√®me de portfolio Codex Developer initialis√©</div>
                        <div class="console-line system">> Bienvenue dans l'interface interactive</div>
                        <div class="console-line system">> Tapez 'aide' pour la liste des commandes</div>
                        <div class="console-line system">> Touchez un n≈ìud sur la carte pour commencer</div>
                        <div class="console-line system">> Cliquez sur <i class="fas fa-bars"></i> pour ouvrir le menu lat√©ral</div>
                    </div>
                    <input type="text" class="console-input" id="consoleInput" placeholder="> Tapez une commande...">
                </div>
            </div>
            
            <!-- Footer avec commandes rapides -->
            <div class="game-footer">
                <div class="command-list">
                    <div class="command" data-command="aide">
                        <i class="fas fa-question-circle"></i> AIDE
                    </div>
                    <div class="command" data-command="projets">
                        <i class="fas fa-folder-open"></i> PROJETS
                    </div>
                    <div class="command" data-command="competences">
                        <i class="fas fa-cogs"></i> COMP√âTENCES
                    </div>
                    <div class="command" data-command="contact">
                        <i class="fas fa-envelope"></i> CONTACT
                    </div>
                    <div class="command" data-command="effacer">
                        <i class="fas fa-eraser"></i> EFFACER
                    </div>
                    <div class="command" id="toggleSidebarCommand">
                        <i class="fas fa-bars"></i> MENU
                    </div>
                </div>
                <div class="quick-contact"><i class="fab fa-github"></i> <a href="https://github.com/DorraBN">github</a></div>
                <div class="quick-contact">
                    <i class="fas fa-envelope"></i> 
                    <a href="mailto:digi.freework24@gmail.com">digi.freework24@gmail.com</a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modale de projet -->
    <div class="project-modal" id="projectModal">
        <div class="modal-header">
            <h2 class="modal-title" id="modalTitle">PROJET</h2>
            <button class="close-modal" id="closeModal">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-content" id="modalContent">
            <!-- Contenu charg√© dynamiquement -->
        </div>
    </div>

    <script>
        // Donn√©es en fran√ßais
        const portfolioDataFR = {
            nodes: [
                {
                    id: "conversion",
                    title: "üîÑ CONVERSION WORD/LATEX",
                    description: "Expert en conversion de documents complexes avec pr√©servation parfaite des formules math√©matiques et r√©f√©rences",
                    icon: "fas fa-exchange-alt",
                    color: "#00a8ff",
                    type: "skill",
                    details: {
                        title: "Conversion Professionnelle Word ‚Üî LaTeX",
                        screenshot: "DOCUMENTS TECHNIQUES",
                        description: "Transformation pr√©cise de documents acad√©miques, th√®ses, articles scientifiques et rapports techniques avec gestion avanc√©e des √©quations math√©matiques, tableaux complexes et r√©f√©rences bibliographiques.",
                        technologies: ["Microsoft Word", "LaTeX", "Overleaf"],
                        features: [
                            "Conversion pr√©servant la mise en page originale",
                            "Gestion des √©quations math√©matiques complexes",
                            "R√©f√©rences bibliographiques automatiques",
                            "Tableaux et figures optimis√©s",
                            "Support multilingue"
                        ]
                    }
                },
                {
                    id: "design",
                    title: "üé® DESIGN GRAPHIQUE",
                    description: "Cr√©ation de posts pour r√©seaux sociaux",
                    icon: "fas fa-paint-brush",
                    color: "#9c88ff",
                    type: "skill",
                    details: {
                        title: "Design Graphique & Identit√© Visuelle",
                        screenshot: "PROJETS DESIGN",
                        description: "Conception de posts pour r√©seaux sociaux.",
                        technologies: ["Illustrator", "Figma", "Canva", "After Effects", "IA"],
                        features: [
                            "Posts pour r√©seaux sociaux",
                            "Utilisation de l'IA"
                        ],
                        examples: [
                            { name: "Portfolio", url: "https://www.behance.net/dorransira/projects" },
                        ]
                    }
                },
                {
                    id: "static",
                    title: "üåê SITES STATIQUES",
                    description: "Sites web ultra-rapides, s√©curis√©s et optimis√©s pour le SEO",
                    icon: "fas fa-file-code",
                    color: "#4cd137",
                    type: "project",
                    details: {
                        title: "D√©veloppement de Sites Statiques",
                        screenshot: "SITES WEB STATIQUES",
                        description: "Cr√©ation de sites vitrines, portfolios et landing pages performants avec technologies modernes pour une vitesse de chargement optimale et un excellent r√©f√©rencement.",
                        technologies: ["HTML5", "CSS3", "JavaScript", "NextJS", "Angular"],
                        features: [
                            "Design responsive et mobile-first",
                            "SEO optimis√©",
                            "Animations fluides",
                            "H√©bergement gratuit possible"
                        ],
                        examples: [
                            { name: "Application 1", url: "https://dorrabn.github.io/app/" },
                            { name: "Application 2", url: "https://dorrabn.github.io/app1/" },
                            { name: "Application 3", url: "https://dorrabn.github.io/app3/" },
                            { name: "Application 4", url: "https://pfe25-4z3b.vercel.app/" }
                        ]
                    }
                },
                {
                    id: "dynamic",
                    title: "‚ö° APPLICATIONS DYNAMIQUES",
                    description: "Applications web interactives avec bases de donn√©es et fonctionnalit√©s avanc√©es",
                    icon: "fas fa-bolt",
                    color: "#fbc531",
                    type: "project",
                    details: {
                        title: "Applications Web Dynamiques",
                        screenshot: "APPLICATIONS WEB",
                        description: "D√©veloppement d'applications web compl√®tes avec back-end, bases de donn√©es, authentification utilisateur et interfaces interactives.",
                        technologies: ["React", "Node.js", "MongoDB", "Express", "Firebase"],
                        features: [
                            "Applications full-stack",
                            "Bases de donn√©es s√©curis√©es",
                            "Syst√®mes d'authentification",
                            "APIs RESTful",
                            "D√©ploiement cloud"
                        ],
                        
                        
                        examples: [
                            { name: "Application 1", url: "https://drive.google.com/file/d/1b5kIqUDiHW_mq-sim-QGijO7RKM4wl8n/view?usp=sharing" },
                          
                        ]
                    }
                },
                {
                    id: "powerbi",
                    title: "üìä POWER BI & ANALYSE",
                    description: "Tableaux de bord interactifs et analyses de donn√©es pour prise de d√©cision",
                    icon: "fas fa-chart-line",
                    color: "#e84118",
                    type: "skill",
                    details: {
                        title: "Analyses de Donn√©es & Dashboards Power BI",
                        screenshot: "DASHBOARDS INTERACTIFS",
                        description: "Cr√©ation de tableaux de bord Power BI interactifs, analyses de donn√©es complexes et visualisations pour transformer vos donn√©es en insights actionnables.",
                        technologies: ["Power BI", "SQL", "Python"],
                        features: [
                            "Dashboards interactifs et personnalisables",
                            "Connecteurs multiples (SQL, Excel, APIs)",
                            "Visualisations avanc√©es",
                            "Actualisation automatique",
                            "Rapports exportables"
                        ],
                         examples: [
                            { name: "Portfolio", url: "https://docs.google.com/document/d/1sQJ5MGpRsNOOk4wGjEfwhtPazSDWhymRm10g22CihhE/edit?tab=t.0" },
                        ]
                    }
                },
                
                {
                    id: "data_entry",
                    title: "üìù SAISIE DE DONN√âES",
                    description: "Saisie pr√©cise et organisation de donn√©es dans Excel et Google Sheets",
                    icon: "fas fa-keyboard",
                    color: "#8c7ae6",
                    type: "skill",
                    details: {
                        title: "Saisie de Donn√©es Professionnelle",
                        screenshot: "SAISIE DE DONN√âES",
                        description: "Saisie pr√©cise et organisation efficace de donn√©es dans Excel, Google Sheets et autres outils de traitement de donn√©es.",
                        technologies: ["Excel", "Google Sheets", "LaTeX"],
                        features: [
                            "Saisie pr√©cise et rapide",
                            "Organisation des donn√©es",
                            "Cr√©ation de tableaux",
                            "Formules et calculs",
                            "Mise en forme professionnelle"
                        ]
                    }
                },
                
        
            ],
            discoveredNodes: [],
            currentLanguage: "fr",
            translations: {
                fr: {
                    start: "COMMENCER LE JEU",
                    consolePlaceholder: "> Tapez une commande...",
                    loading: "CHARGEMENT DU PORTFOLIO...",
                    projects: "PROJETS",
                    skills: "COMP√âTENCES",
                    contact: "CONTACT",
                    clear: "EFFACER",
                    help: "AIDE",
                    menu: "MENU",
                    sidebarTitle: "MENU DE NAVIGATION",
                    consoleTitle: "TERMINAL DE COMMANDES",
                    consoleLines: [
                        "> Syst√®me de portfolio Codex Developer initialis√©",
                        "> Bienvenue dans l'interface interactive",
                        "> Tapez 'aide' pour la liste des commandes",
                        "> Touchez un n≈ìud sur la carte pour commencer",
                        "> Cliquez sur <i class='fas fa-bars'></i> pour ouvrir le menu lat√©ral"
                    ],
                    gameTitle: "CODEX DEVELOPER",
                    level: "NIVEAU",
                    xp: "XP",
                    zone: "ZONE: PORTFOLIO",
                    commands: {
                        help: "=== COMMANDES DISPONIBLES ===",
                        projects: "=== MES PROJETS ===",
                        skills: "=== MES COMP√âTENCES ===",
                        contact: "=== CONTACT ===",
                        about: "=== √Ä PROPOS ===",
                        level: "Niveau actuel",
                        clear: "Console effac√©e. Tapez 'aide' pour les commandes.",
                        menu: "> Menu de navigation bascul√©",
                        email: "Client email ouvert. R√©digez votre message!"
                    }
                },
                en: {
                    start: "START GAME",
                    consolePlaceholder: "> Type a command...",
                    loading: "LOADING PORTFOLIO...",
                    projects: "PROJECTS",
                    skills: "SKILLS",
                    contact: "CONTACT",
                    clear: "CLEAR",
                    help: "HELP",
                    menu: "MENU",
                    sidebarTitle: "NAVIGATION MENU",
                    consoleTitle: "COMMAND TERMINAL",
                    consoleLines: [
                        "> Codex Developer portfolio system initialized",
                        "> Welcome to interactive interface",
                        "> Type 'help' for command list",
                        "> Touch a node on the map to begin",
                        "> Click <i class='fas fa-bars'></i> to open side menu"
                    ],
                    gameTitle: "CODEX DEVELOPER",
                    level: "LEVEL",
                    xp: "XP",
                    zone: "ZONE: PORTFOLIO",
                    commands: {
                        help: "=== AVAILABLE COMMANDS ===",
                        projects: "=== MY PROJECTS ===",
                        skills: "=== MY SKILLS ===",
                        contact: "=== CONTACT ===",
                        about: "=== ABOUT ME ===",
                        level: "Current level",
                        clear: "Console cleared. Type 'help' for commands.",
                        menu: "> Navigation menu toggled",
                        email: "Email client opened. Write your message!"
                    }
                }
            }
        };

        // Donn√©es en anglais
        const portfolioDataEN = {
            nodes: [
                {
                    id: "conversion",
                    title: "üîÑ WORD/LATEX CONVERSION",
                    description: "Expert in complex document conversion with perfect preservation of mathematical formulas and references",
                    icon: "fas fa-exchange-alt",
                    color: "#00a8ff",
                    type: "skill",
                    details: {
                        title: "Professional Word ‚Üî LaTeX Conversion",
                        screenshot: "TECHNICAL DOCUMENTS",
                        description: "Precise transformation of academic documents, theses, scientific articles and technical reports with advanced management of mathematical equations, complex tables and bibliographic references.",
                        technologies: ["Microsoft Word", "LaTeX", "Overleaf"],
                        features: [
                            "Conversion preserving original layout",
                            "Management of complex mathematical equations",
                            "Automatic bibliographic references",
                            "Optimized tables and figures",
                            "Multilingual support"
                        ]
                    }
                },
                {
                    id: "design",
                    title: "üé® GRAPHIC DESIGN",
                    description: "Creation of social media posts",
                    icon: "fas fa-paint-brush",
                    color: "#9c88ff",
                    type: "skill",
                    details: {
                        title: "Graphic Design & Visual Identity",
                        screenshot: "DESIGN PROJECTS",
                        description: "Creation of social media posts.",
                        technologies: ["Illustrator", "Figma", "Canva", "After Effects", "AI"],
                        features: [
                            "Social media posts",
                            "Use of AI"
                        ],
                        examples: [
                            { name: "Portfolio", url: "https://www.behance.net/dorransira/projects" },
                        ]
                    }
                },
                {
                    id: "static",
                    title: "üåê STATIC WEBSITES",
                    description: "Ultra-fast, secure websites optimized for SEO",
                    icon: "fas fa-file-code",
                    color: "#4cd137",
                    type: "project",
                    details: {
                        title: "Static Website Development",
                        screenshot: "STATIC WEBSITES",
                        description: "Creation of high-performance showcase websites, portfolios and landing pages with modern technologies for optimal loading speed and excellent SEO.",
                        technologies: ["HTML5", "CSS3", "JavaScript", "NextJS", "Angular"],
                        features: [
                            "Responsive and mobile-first design",
                            "Optimized SEO",
                            "Smooth animations",
                            "Possible free hosting"
                        ],
                        examples: [
                            { name: "Application 1", url: "https://dorrabn.github.io/app/" },
                            { name: "Application 2", url: "https://dorrabn.github.io/app1/" },
                            { name: "Application 3", url: "https://dorrabn.github.io/app3/" },
                            { name: "Application 4", url: "https://pfe25-4z3b.vercel.app/" }
                        ]
                    }
                },
                {
                    id: "dynamic",
                    title: "‚ö° DYNAMIC APPLICATIONS",
                    description: "Interactive web applications with databases and advanced features",
                    icon: "fas fa-bolt",
                    color: "#fbc531",
                    type: "project",
                    details: {
                        title: "Dynamic Web Applications",
                        screenshot: "WEB APPLICATIONS",
                        description: "Development of complete web applications with back-end, databases, user authentication and interactive interfaces.",
                        technologies: ["React", "Node.js", "MongoDB", "Express", "Firebase"],
                        features: [
                            "Full-stack applications",
                            "Secure databases",
                            "Authentication systems",
                            "RESTful APIs",
                            "Cloud deployment"
                        ],
                        
                        examples: [
                            { name: "Application 1", url: "https://drive.google.com/file/d/1b5kIqUDiHW_mq-sim-QGijO7RKM4wl8n/view?usp=sharing" },
                          
                        ]
                    }
                },
                {
                    id: "powerbi",
                    title: "üìä POWER BI & ANALYSIS",
                    description: "Interactive dashboards and data analysis for decision making",
                    icon: "fas fa-chart-line",
                    color: "#e84118",
                    type: "skill",
                    details: {
                        title: "Data Analysis & Power BI Dashboards",
                        screenshot: "INTERACTIVE DASHBOARDS",
                        description: "Creation of interactive Power BI dashboards, complex data analysis and visualizations to transform your data into actionable insights.",
                        technologies: ["Power BI", "SQL", "Python"],
                        features: [
                            "Interactive and customizable dashboards",
                            "Multiple connectors (SQL, Excel, APIs)",
                            "Advanced visualizations",
                            "Automatic refresh",
                            "Exportable reports"
                        ],
                        
                        examples: [
                            { name: "Portfolio", url: "https://docs.google.com/document/d/1sQJ5MGpRsNOOk4wGjEfwhtPazSDWhymRm10g22CihhE/edit?tab=t.0" },
                        ]
                    }
                },
                
                {
                    id: "data_entry",
                    title: "üìù DATA ENTRY",
                    description: "Precise data entry and organization in Excel and Google Sheets",
                    icon: "fas fa-keyboard",
                    color: "#8c7ae6",
                    type: "skill",
                    details: {
                        title: "Professional Data Entry",
                        screenshot: "DATA ENTRY",
                        description: "Accurate data entry and efficient organization in Excel, Google Sheets and other data processing tools.",
                        technologies: ["Excel", "Google Sheets", "LaTeX"],
                        features: [
                            "Accurate and fast data entry",
                            "Data organization",
                            "Table creation",
                            "Formulas and calculations",
                            "Professional formatting"
                        ]
                    }
                }
            ],
            discoveredNodes: [],
            currentLanguage: "en",
            translations: portfolioDataFR.translations
        };

        let portfolioData = portfolioDataFR; // Langue par d√©faut: fran√ßais

        // √âl√©ments DOM
        const startScreen = document.getElementById('startScreen');
        const loadingScreen = document.getElementById('loadingScreen');
        const gameInterface = document.getElementById('gameInterface');
        const startButton = document.getElementById('startButton');
        const gameMap = document.getElementById('gameMap');
        const consoleOutput = document.getElementById('consoleOutput');
        const consoleInput = document.getElementById('consoleInput');
        const projectModal = document.getElementById('projectModal');
        const closeModal = document.getElementById('closeModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalContent = document.getElementById('modalContent');
        const playerLevel = document.getElementById('playerLevel');
        const xpPoints = document.getElementById('xpPoints');
        const projectsCount = document.getElementById('projectsCount');
        const langButton = document.getElementById('langButton');
        const sidebarTitle = document.getElementById('sidebarTitle');
        
        // √âl√©ments sidebar
        const sidebar = document.getElementById('sidebar');
        const sidebarToggle = document.getElementById('sidebarToggle');
        const closeSidebar = document.getElementById('closeSidebar');
        const sidebarContent = document.getElementById('sidebarContent');
        const gameWorld = document.getElementById('gameWorld');
        const toggleSidebarCommand = document.getElementById('toggleSidebarCommand');
        const sidebarOverlay = document.getElementById('sidebarOverlay');

        // Fonction pour changer de langue
        function switchLanguage() {
            if (portfolioData === portfolioDataFR) {
                portfolioData = portfolioDataEN;
                langButton.innerHTML = '<i class="fas fa-globe"></i> FR';
                portfolioData.currentLanguage = "en";
            } else {
                portfolioData = portfolioDataFR;
                langButton.innerHTML = '<i class="fas fa-globe"></i> EN';
                portfolioData.currentLanguage = "fr";
            }
            
            updateUIForLanguage();
        }

        // Mettre √† jour l'interface pour la langue
        function updateUIForLanguage() {
            const lang = portfolioData.currentLanguage;
            const t = portfolioData.translations[lang];
            
            // Mettre √† jour le bouton start
            startButton.innerHTML = `<i class="fas fa-play"></i> ${t.start}`;
            
            // Mettre √† jour le placeholder de la console
            consoleInput.placeholder = t.consolePlaceholder;
            
            // Mettre √† jour le titre de la sidebar
            sidebarTitle.textContent = t.sidebarTitle;
            
            // Mettre √† jour le titre de la console
            document.querySelector('.console-header').innerHTML = `<i class="fas fa-terminal"></i> ${t.consoleTitle}`;
            
            // Mettre √† jour les commandes rapides
            document.querySelector('[data-command="aide"]').innerHTML = `<i class="fas fa-question-circle"></i> ${t.help}`;
            document.querySelector('[data-command="projets"]').innerHTML = `<i class="fas fa-folder-open"></i> ${t.projects}`;
            document.querySelector('[data-command="competences"]').innerHTML = `<i class="fas fa-cogs"></i> ${t.skills}`;
            document.querySelector('[data-command="contact"]').innerHTML = `<i class="fas fa-envelope"></i> ${t.contact}`;
            document.querySelector('[data-command="effacer"]').innerHTML = `<i class="fas fa-eraser"></i> ${t.clear}`;
            document.getElementById('toggleSidebarCommand').innerHTML = `<i class="fas fa-bars"></i> ${t.menu}`;
            
            // Mettre √† jour le HUD
            document.querySelector('.stat-value:nth-child(1)').innerHTML = `${t.level} <span id="playerLevel">15</span>`;
            document.querySelector('.stat-value:nth-child(2)').innerHTML = `<span id="xpPoints">2470</span> ${t.xp}`;
            document.querySelector('.game-title-hud').textContent = t.gameTitle;
            document.querySelector('.level-indicator').innerHTML = `<i class="fas fa-map-marker-alt"></i> ${t.zone}`;
            
            // Effacer et recharger la console
            consoleOutput.innerHTML = '';
            t.consoleLines.forEach(line => {
                addConsoleLine("system", line);
            });
            
            // Recharger la carte et la sidebar
            initMap();
            initSidebar();
        }

        // Fonction pour basculer la sidebar
        function toggleSidebar() {
            sidebar.classList.toggle('open');
            sidebarToggle.classList.toggle('open');
            gameWorld.classList.toggle('with-sidebar');
            sidebarOverlay.classList.toggle('active');
            
            // Changer l'ic√¥ne
            const icon = sidebarToggle.querySelector('i');
            if (sidebar.classList.contains('open')) {
                icon.className = 'fas fa-times';
                addConsoleLine("system", portfolioData.translations[portfolioData.currentLanguage].commands.menu);
                document.body.style.overflow = 'hidden';
            } else {
                icon.className = 'fas fa-bars';
                addConsoleLine("system", portfolioData.translations[portfolioData.currentLanguage].commands.menu);
                document.body.style.overflow = 'auto';
            }
            
            playSound('click');
        }

        // Initialiser la sidebar avec les n≈ìuds
        function initSidebar() {
            sidebarContent.innerHTML = '';
            
            portfolioData.nodes.forEach((node, index) => {
                const nodeElement = document.createElement('div');
                nodeElement.className = 'sidebar-node';
                nodeElement.dataset.nodeId = node.id;
                
                nodeElement.innerHTML = `
                    <div class="sidebar-node-title">
                        <div class="sidebar-node-icon" style="background: ${node.color}">
                            <i class="${node.icon}"></i>
                        </div>
                        ${node.title}
                    </div>
                    <p class="sidebar-node-desc">${node.description}</p>
                `;
                
                // √âv√©nement tactile optimis√© pour mobile
                nodeElement.addEventListener('touchstart', (e) => {
                    e.currentTarget.style.transform = 'scale(0.98)';
                });
                
                nodeElement.addEventListener('touchend', (e) => {
                    e.currentTarget.style.transform = '';
                    const targetNode = portfolioData.nodes.find(n => n.id === node.id);
                    if (targetNode) {
                        openNode(targetNode);
                        if (window.innerWidth <= 768) {
                            toggleSidebar();
                        }
                    }
                });
                
                // √âv√©nement clic pour desktop
                nodeElement.addEventListener('click', (e) => {
                    const targetNode = portfolioData.nodes.find(n => n.id === node.id);
                    if (targetNode) {
                        openNode(targetNode);
                        if (window.innerWidth <= 768) {
                            toggleSidebar();
                        }
                    }
                });
                
                sidebarContent.appendChild(nodeElement);
                
                // Animation d'apparition
                nodeElement.style.opacity = '0';
                nodeElement.style.transform = 'translateX(-20px)';
                
                setTimeout(() => {
                    nodeElement.style.transition = 'all 0.5s ease';
                    nodeElement.style.opacity = '1';
                    nodeElement.style.transform = 'translateX(0)';
                }, index * 100);
            });
        }

        // Commandes du terminal
        const commands = {
            aide: () => {
                const t = portfolioData.translations[portfolioData.currentLanguage].commands;
                addConsoleLine("system", t.help);
                addConsoleLine("system", "aide - " + (portfolioData.currentLanguage === "fr" ? "Afficher cette aide" : "Show this help"));
                addConsoleLine("system", "projets - " + (portfolioData.currentLanguage === "fr" ? "Lister tous les projets" : "List all projects"));
                addConsoleLine("system", "competences - " + (portfolioData.currentLanguage === "fr" ? "Afficher mes comp√©tences" : "Show my skills"));
                addConsoleLine("system", "contact - " + (portfolioData.currentLanguage === "fr" ? "Informations de contact" : "Contact information"));
                addConsoleLine("system", "effacer - " + (portfolioData.currentLanguage === "fr" ? "Effacer la console" : "Clear console"));
                addConsoleLine("system", "apropos - " + (portfolioData.currentLanguage === "fr" ? "√Ä propos de moi" : "About me"));
                addConsoleLine("system", "email - " + (portfolioData.currentLanguage === "fr" ? "Envoyer un email" : "Send email"));
                addConsoleLine("system", "niveau - " + (portfolioData.currentLanguage === "fr" ? "Voir mon niveau" : "See my level"));
                addConsoleLine("system", "menu - " + (portfolioData.currentLanguage === "fr" ? "Ouvrir/fermer le menu lat√©ral" : "Open/close side menu"));
            },
            projets: () => {
                const t = portfolioData.translations[portfolioData.currentLanguage].commands;
                addConsoleLine("system", t.projects);
                portfolioData.nodes.filter(node => node.type === 'project').forEach(project => {
                    addConsoleLine("system", `‚Ä¢ ${project.title} - ${project.description}`);
                });
            },
            competences: () => {
                const t = portfolioData.translations[portfolioData.currentLanguage].commands;
                addConsoleLine("system", t.skills);
                portfolioData.nodes.filter(node => node.type === 'skill').forEach(skill => {
                    addConsoleLine("system", `‚Ä¢ ${skill.title} - ${skill.description}`);
                });
            },
            contact: () => {
                const t = portfolioData.translations[portfolioData.currentLanguage].commands;
                addConsoleLine("system", t.contact);
                addConsoleLine("system", "üìß Email: digi.freework24@gmail.com");
                addConsoleLine("system", "üíº " + (portfolioData.currentLanguage === "fr" ? "Disponible pour des projets freelance" : "Available for freelance projects"));
                addConsoleLine("system", "‚ö° " + (portfolioData.currentLanguage === "fr" ? "R√©ponse sous 24h" : "Response within 24h"));
            },
            effacer: () => {
                consoleOutput.innerHTML = '';
                addConsoleLine("system", portfolioData.translations[portfolioData.currentLanguage].commands.clear);
            },
            apropos: () => {
                const t = portfolioData.translations[portfolioData.currentLanguage].commands;
                addConsoleLine("system", t.about);
                addConsoleLine("system", portfolioData.currentLanguage === "fr" ? "D√©veloppeur full-stack sp√©cialis√© dans:" : "Full-stack developer specialized in:");
                addConsoleLine("system", portfolioData.currentLanguage === "fr" ? "- Conversion Word/LaTeX professionnelle" : "- Professional Word/LaTeX conversion");
                addConsoleLine("system", portfolioData.currentLanguage === "fr" ? "- Design graphique cr√©atif" : "- Creative graphic design");
                addConsoleLine("system", portfolioData.currentLanguage === "fr" ? "- D√©veloppement web (statique & dynamique)" : "- Web development (static & dynamic)");
                addConsoleLine("system", portfolioData.currentLanguage === "fr" ? "- Analyse de donn√©es & Power BI" : "- Data analysis & Power BI");
                addConsoleLine("system", portfolioData.currentLanguage === "fr" ? "Passionn√© par la cr√©ation d'exp√©riences digitales uniques!" : "Passionate about creating unique digital experiences!");
            },
            email: () => {
                window.open('mailto:digi.freework24@gmail.com?subject=' + 
                    (portfolioData.currentLanguage === "fr" ? 'Demande%20de%20devis' : 'Quote%20Request') + 
                    '&body=' + (portfolioData.currentLanguage === "fr" ? 
                    'Bonjour,%0D%0A%0D%0AJe%20suis%20int√©ress√©(e)%20par%20vos%20services.%0D%0APouvez-vous%20me%20contacter%20pour%20discuter%20de%20mon%20projet?' : 
                    'Hello,%0D%0A%0D%0AI%20am%20interested%20in%20your%20services.%0D%0ACan%20you%20contact%20me%20to%20discuss%20my%20project?'));
                addConsoleLine("system", portfolioData.translations[portfolioData.currentLanguage].commands.email);
            },
            niveau: () => {
                const t = portfolioData.translations[portfolioData.currentLanguage].commands;
                addConsoleLine("system", `${t.level}: ${playerLevel.textContent}`);
                addConsoleLine("system", `${portfolioData.currentLanguage === "fr" ? "Points d'exp√©rience" : "Experience points"}: ${xpPoints.textContent}`);
                addConsoleLine("system", `${portfolioData.currentLanguage === "fr" ? "Projets d√©couverts" : "Discovered projects"}: ${portfolioData.discoveredNodes.length}/${portfolioData.nodes.length}`);
            },
            menu: () => {
                toggleSidebar();
                addConsoleLine("system", portfolioData.translations[portfolioData.currentLanguage].commands.menu);
            }
        };

        // Initialisation du jeu
        function initGame() {
            startScreen.style.display = 'none';
            loadingScreen.style.display = 'none';
            gameInterface.style.display = 'block';
            
            initMap();
            initSidebar();
            
            const lang = portfolioData.currentLanguage;
            addConsoleLine("system", portfolioData.currentLanguage === "fr" ? 
                "> Portfolio interactif charg√© avec succ√®s!" : 
                "> Interactive portfolio loaded successfully!");
            addConsoleLine("system", portfolioData.currentLanguage === "fr" ? 
                "> Explorez les n≈ìuds ou tapez 'aide'" : 
                "> Explore nodes or type 'help'");
            addConsoleLine("system", portfolioData.currentLanguage === "fr" ? 
                "> Touchez le bouton MENU pour ouvrir la navigation lat√©rale" : 
                "> Touch the MENU button to open side navigation");
            
            projectsCount.textContent = "0";
            playerLevel.textContent = "15";
            xpPoints.textContent = "2000";
            
            // Effet de particules pour le jeu
            createGameParticles();
            
            // Adapter l'interface √† la taille d'√©cran
            adaptToScreenSize();
        }

        // Adapter l'interface √† la taille d'√©cran
        function adaptToScreenSize() {
            const isMobile = window.innerWidth <= 768;
            const isLandscape = window.innerWidth > window.innerHeight;
            
            if (isMobile && isLandscape) {
                // Mode paysage mobile - ajustements
                document.querySelector('.game-hud').style.padding = '8px 15px';
                document.querySelector('.game-world').style.paddingTop = '60px';
                document.querySelector('.game-world').style.paddingBottom = '60px';
            }
        }

        // Initialisation de la carte
        function initMap() {
            gameMap.innerHTML = '';
            
            portfolioData.nodes.forEach((node, index) => {
                const nodeElement = document.createElement('div');
                nodeElement.className = 'map-node';
                nodeElement.dataset.nodeId = node.id;
                
                nodeElement.style.opacity = '0';
                nodeElement.style.transform = 'translateY(30px)';
                
                setTimeout(() => {
                    nodeElement.style.transition = 'all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
                    nodeElement.style.opacity = '1';
                    nodeElement.style.transform = 'translateY(0)';
                }, index * 150);
                
                let badgeText = '';
                if (node.type === 'project') badgeText = portfolioData.currentLanguage === "fr" ? "PROJET" : "PROJECT";
                else if (node.type === 'skill') badgeText = portfolioData.currentLanguage === "fr" ? "COMP√âTENCE" : "SKILL";
                else if (node.type === 'link') badgeText = "LIEN";
                
                nodeElement.innerHTML = `
                    <div class="node-icon" style="background: linear-gradient(135deg, ${node.color}, #2c3e50)">
                        <i class="${node.icon}"></i>
                    </div>
                    <h3 class="node-title">${node.title}</h3>
                    <p class="node-desc">${node.description}</p>
                    <span class="node-badge">${badgeText}</span>
                `;
                
                // √âv√©nements tactiles optimis√©s
                nodeElement.addEventListener('touchstart', (e) => {
                    e.currentTarget.style.transform = 'scale(0.98) translateY(0)';
                });
                
                nodeElement.addEventListener('touchend', (e) => {
                    e.currentTarget.style.transform = '';
                    setTimeout(() => openNode(node), 100);
                });
                
                // √âv√©nement clic pour desktop
                nodeElement.addEventListener('click', () => openNode(node));
                
                gameMap.appendChild(nodeElement);
            });
        }

        // Ouvrir un n≈ìud
        function openNode(node) {
            if (!portfolioData.discoveredNodes.includes(node.id)) {
                portfolioData.discoveredNodes.push(node.id);
                
                const currentXP = parseInt(xpPoints.textContent);
                const xpGain = node.type === 'project' ? 250 : 150;
                xpPoints.textContent = currentXP + xpGain;
                
                projectsCount.textContent = portfolioData.discoveredNodes.length;
                
                const newLevel = Math.floor(portfolioData.discoveredNodes.length / 2) + 15;
                playerLevel.textContent = newLevel;
                
                addConsoleLine("system", 
                    (portfolioData.currentLanguage === "fr" ? "Nouveau n≈ìud d√©couvert: " : "New node discovered: ") + 
                    `${node.title} (+${xpGain} XP)`);
                
                // Mettre √† jour le statut dans la sidebar
                updateSidebarNode(node.id);
            }
            
            openModal(node);
        }

        // Mettre √† jour le n≈ìud dans la sidebar
        function updateSidebarNode(nodeId) {
            const sidebarNode = document.querySelector(`.sidebar-node[data-node-id="${nodeId}"]`);
            if (sidebarNode) {
                sidebarNode.classList.add('active');
                sidebarNode.innerHTML += `<div style="margin-top: 10px; color: #00ff41; font-size: 0.8rem; display: flex; align-items: center; gap: 5px;">
                    <i class="fas fa-check-circle"></i> ${portfolioData.currentLanguage === "fr" ? "D√©couvert" : "Discovered"}
                </div>`;
            }
        }

        // Ouvrir la modale
        function openModal(node) {
            modalTitle.textContent = node.details.title;
            
            let examplesHTML = '';
            if (node.details.examples && node.details.examples.length > 0) {
                examplesHTML = `
                    <div class="info-box">
                        <h3 class="info-title"><i class="fas fa-external-link-alt"></i> ${portfolioData.currentLanguage === "fr" ? "EXEMPLES DE SITES" : "WEBSITE EXAMPLES"}</h3>
                        <div class="info-content">
                            <ul>
                                ${node.details.examples.map(example => 
                                    `<li>
                                        <a href="${example.url}" target="_blank" style="color: var(--terminal-green); text-decoration: none;">
                                            ${example.name} <i class="fas fa-external-link-alt" style="font-size: 0.8rem;"></i>
                                        </a>
                                    </li>`
                                ).join('')}
                            </ul>
                        </div>
                    </div>
                `;
            }
            
            let actionsHTML = '';
            if (node.type === 'link' && node.details.githubUrl) {
                actionsHTML = `
                    <div class="project-actions">
                        <button class="action-button" onclick="window.open('${node.details.githubUrl}', '_blank')">
                            <i class="fab fa-github"></i> ${portfolioData.currentLanguage === "fr" ? "VISITER GITHUB" : "VISIT GITHUB"}
                        </button>
                        <button class="action-button secondary" onclick="addConsoleLine('user', '> ${portfolioData.currentLanguage === "fr" ? "Plus d'infos sur" : "More info about"} ${node.title}')">
                            <i class="fas fa-terminal"></i> ${portfolioData.currentLanguage === "fr" ? "COMMANDE TERMINAL" : "TERMINAL COMMAND"}
                        </button>
                    </div>
                `;
            } else {
                actionsHTML = `
                    <div class="project-actions">
                        <button class="action-button" onclick="sendEmail('${node.details.title}')">
                            <i class="fas fa-envelope"></i> ${portfolioData.currentLanguage === "fr" ? "ME CONTACTER" : "CONTACT ME"}
                        </button>
                        <button class="action-button secondary" onclick="addConsoleLine('user', '> ${portfolioData.currentLanguage === "fr" ? "Plus d'infos sur" : "More info about"} ${node.title}')">
                            <i class="fas fa-terminal"></i> ${portfolioData.currentLanguage === "fr" ? "COMMANDE TERMINAL" : "TERMINAL COMMAND"}
                        </button>
                    </div>
                `;
            }
            
            modalContent.innerHTML = `
                <div class="project-screenshot" style="background: linear-gradient(135deg, ${node.color}, #2c3e50)">
                    ${node.details.screenshot}
                </div>
                
                <div class="project-info">
                    <div class="info-box">
                        <h3 class="info-title"><i class="fas fa-info-circle"></i> ${portfolioData.currentLanguage === "fr" ? "DESCRIPTION" : "DESCRIPTION"}</h3>
                        <p class="info-content">${node.details.description}</p>
                    </div>
                    
                    <div class="info-box">
                        <h3 class="info-title"><i class="fas fa-list-check"></i> ${portfolioData.currentLanguage === "fr" ? "FONCTIONNALIT√âS" : "FEATURES"}</h3>
                        <ul class="info-content">
                            ${node.details.features.map(feature => `<li>${feature}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div class="info-box">
                        <h3 class="info-title"><i class="fas fa-code"></i> ${portfolioData.currentLanguage === "fr" ? "TECHNOLOGIES" : "TECHNOLOGIES"}</h3>
                        <div class="tech-stack">
                            ${node.details.technologies.map(tech => `<span class="tech-tag">${tech}</span>`).join('')}
                        </div>
                    </div>
                    
                    ${examplesHTML}
                </div>
                
                ${actionsHTML}
            `;
            
            projectModal.style.display = 'block';
            
            projectModal.style.opacity = '0';
            projectModal.style.transform = 'translate(-50%, -50%) scale(0.9)';
            
            setTimeout(() => {
                projectModal.style.transition = 'all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
                projectModal.style.opacity = '1';
                projectModal.style.transform = 'translate(-50%, -50%) scale(1)';
            }, 10);
            
            // Emp√™cher le scroll du body quand la modale est ouverte
            document.body.style.overflow = 'hidden';
        }

        // Fermer la modale
        function closeProjectModal() {
            projectModal.style.opacity = '0';
            projectModal.style.transform = 'translate(-50%, -50%) scale(0.9)';
            
            setTimeout(() => {
                projectModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }, 400);
        }

        // Ajouter une ligne √† la console
        function addConsoleLine(type, text) {
            const line = document.createElement('div');
            line.className = `console-line ${type}`;
            line.innerHTML = text;
            consoleOutput.appendChild(line);
            
            consoleOutput.scrollTop = consoleOutput.scrollHeight;
        }

        // Gestion de la console
        consoleInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const command = consoleInput.value.trim().toLowerCase();
                consoleInput.value = '';
                
                if (command) {
                    addConsoleLine("user", `> ${command}`);
                    
                    // Adapter les commandes selon la langue
                    let actualCommand = command;
                    if (portfolioData.currentLanguage === "fr") {
                        // Traduction des commandes fran√ßaises
                        if (command === 'help' || command === 'aide') actualCommand = 'aide';
                        else if (command === 'projects' || command === 'projets') actualCommand = 'projets';
                        else if (command === 'skills' || command === 'competences') actualCommand = 'competences';
                        else if (command === 'contact') actualCommand = 'contact';
                        else if (command === 'clear' || command === 'effacer') actualCommand = 'effacer';
                        else if (command === 'about' || command === 'apropos') actualCommand = 'apropos';
                        else if (command === 'level' || command === 'niveau') actualCommand = 'niveau';
                        else if (command === 'menu') actualCommand = 'menu';
                        else if (command === 'email') actualCommand = 'email';
                    } else {
                        // Commandes en anglais
                        if (command === 'help') actualCommand = 'aide';
                        else if (command === 'projects') actualCommand = 'projets';
                        else if (command === 'skills') actualCommand = 'competences';
                        else if (command === 'contact') actualCommand = 'contact';
                        else if (command === 'clear') actualCommand = 'effacer';
                        else if (command === 'about') actualCommand = 'apropos';
                        else if (command === 'level') actualCommand = 'niveau';
                        else if (command === 'menu') actualCommand = 'menu';
                        else if (command === 'email') actualCommand = 'email';
                    }
                    
                    if (commands[actualCommand]) {
                        commands[actualCommand]();
                    } else {
                        addConsoleLine("system", 
                            (portfolioData.currentLanguage === "fr" ? 
                            `Commande inconnue: ${command}. Tapez 'aide' pour la liste des commandes.` : 
                            `Unknown command: ${command}. Type 'help' for command list.`));
                    }
                }
            }
        });

        // Focus sur l'input de la console quand on touche le terminal
        document.querySelector('.game-console').addEventListener('touchstart', () => {
            if (window.innerWidth <= 768) {
                consoleInput.focus();
                // Sur mobile, ouvrir le clavier virtuel
                setTimeout(() => {
                    consoleInput.focus();
                }, 100);
            }
        });

        // Commandes rapides avec √©v√©nements tactiles
        document.querySelectorAll('.command').forEach(button => {
            // √âv√©nement tactile
            button.addEventListener('touchstart', (e) => {
                e.currentTarget.style.transform = 'scale(0.95)';
            });
            
            button.addEventListener('touchend', (e) => {
                e.currentTarget.style.transform = '';
                const command = e.currentTarget.dataset.command;
                if (command) {
                    addConsoleLine("user", `> ${command}`);
                    if (commands[command]) {
                        setTimeout(() => commands[command](), 100);
                    }
                }
            });
            
            // √âv√©nement clic pour desktop
            button.addEventListener('click', (e) => {
                const command = e.currentTarget.dataset.command;
                if (command) {
                    addConsoleLine("user", `> ${command}`);
                    if (commands[command]) {
                        commands[command]();
                    }
                }
            });
        });

        // Fonction pour envoyer un email
        window.sendEmail = function(service) {
            const lang = portfolioData.currentLanguage;
            window.open('mailto:digi.freework24@gmail.com?subject=' + 
                (lang === "fr" ? 'Demande%20de%20devis%20pour%20' : 'Quote%20Request%20for%20') + 
                encodeURIComponent(service) + 
                '&body=' + (lang === "fr" ? 
                'Bonjour,%0D%0A%0D%0AJe%20suis%20int√©ress√©(e)%20par%20vos%20services%20de%20' + encodeURIComponent(service) + '.%0D%0APouvez-vous%20me%20contacter%20pour%20discuter%20de%20mon%20projet?' : 
                'Hello,%0D%0A%0D%0AI%20am%20interested%20in%20your%20' + encodeURIComponent(service) + '%20services.%0D%0ACan%20you%20contact%20me%20to%20discuss%20my%20project?'));
            addConsoleLine("system", portfolioData.translations[lang].commands.email);
            closeProjectModal();
        };

        // √âv√©nements avec gestion tactile
        startButton.addEventListener('touchstart', (e) => {
            e.currentTarget.style.transform = 'translateY(5px)';
            e.currentTarget.style.boxShadow = '0 5px 0 #c23616';
        });
        
        startButton.addEventListener('touchend', (e) => {
            e.currentTarget.style.transform = '';
            e.currentTarget.style.boxShadow = '0 10px 0 #c23616';
            setTimeout(() => initGame(), 100);
        });
        
        startButton.addEventListener('click', initGame);
        
        closeModal.addEventListener('click', closeProjectModal);
        closeModal.addEventListener('touchstart', (e) => {
            e.currentTarget.style.transform = 'scale(0.9)';
        });
        closeModal.addEventListener('touchend', (e) => {
            e.currentTarget.style.transform = '';
        });
        
        closeSidebar.addEventListener('click', toggleSidebar);
        toggleSidebarCommand.addEventListener('click', toggleSidebar);
        sidebarToggle.addEventListener('click', toggleSidebar);
        sidebarOverlay.addEventListener('click', toggleSidebar);
        langButton.addEventListener('click', switchLanguage);
        
        // √âv√©nements tactiles pour le toggle
        sidebarToggle.addEventListener('touchstart', (e) => {
            e.currentTarget.style.transform = 'scale(0.95)';
        });
        
        sidebarToggle.addEventListener('touchend', (e) => {
            e.currentTarget.style.transform = '';
        });

        // Fermer la modale en cliquant en dehors
        window.addEventListener('click', (e) => {
            if (e.target === projectModal) {
                closeProjectModal();
            }
        });

        // Fermer la modale avec √âchap
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && projectModal.style.display === 'block') {
                closeProjectModal();
            }
        });

        // Gestion du redimensionnement
        window.addEventListener('resize', () => {
            if (window.innerWidth > 768 && sidebar.classList.contains('open')) {
                sidebarOverlay.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
            
            adaptToScreenSize();
        });

        // Initialisation
        document.addEventListener('DOMContentLoaded', () => {
            const title = document.querySelector('.game-title');
            const originalText = title.textContent;
            title.textContent = '';
            
            let i = 0;
            const typeWriter = () => {
                if (i < originalText.length) {
                    title.textContent += originalText.charAt(i);
                    i++;
                    setTimeout(typeWriter, 100);
                }
            };
            
            setTimeout(typeWriter, 1000);
            
            createStartParticles();
            
            // Animation de chargement
            const loadingScreen = document.getElementById("loadingScreen");
            const progress = document.getElementById("loadingProgress");

            let p = 0;
            let interval = setInterval(() => {
                p += 5;
                progress.style.width = p + "%";

                if (p >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        loadingScreen.style.opacity = "0";
                        setTimeout(() => {
                            loadingScreen.style.display = "none";
                        }, 500);
                    }, 300);
                }
            }, 80);
            
            // D√©tection du mode tactile
            if ('ontouchstart' in window || navigator.maxTouchPoints) {
                document.body.classList.add('touch-device');
            }
            
            // Initialiser la langue en fran√ßais
            updateUIForLanguage();
        });

        // Effet de particules pour l'√©cran de d√©marrage
        function createStartParticles() {
            const container = document.querySelector('.start-screen');
            
            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.style.position = 'absolute';
                particle.style.width = Math.random() * 4 + 2 + 'px';
                particle.style.height = particle.style.width;
                particle.style.background = Math.random() > 0.5 ? '#00ff41' : '#00a8ff';
                particle.style.borderRadius = '50%';
                particle.style.left = Math.random() * 100 + 'vw';
                particle.style.top = Math.random() * 100 + 'vh';
                particle.style.opacity = Math.random() * 0.4 + 0.2;
                particle.style.boxShadow = `0 0 8px ${particle.style.background}`;
                particle.style.zIndex = '1';
                
                container.appendChild(particle);
                
                animateParticle(particle);
            }
        }

        // Effet de particules pour le jeu
        function createGameParticles() {
            const container = document.querySelector('.game-container');
            
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.style.position = 'fixed';
                particle.style.width = Math.random() * 2 + 1 + 'px';
                particle.style.height = particle.style.width;
                particle.style.background = Math.random() > 0.5 ? '#00a8ff' : '#9c88ff';
                particle.style.borderRadius = '50%';
                particle.style.left = Math.random() * 100 + 'vw';
                particle.style.top = Math.random() * 100 + 'vh';
                particle.style.opacity = Math.random() * 0.2 + 0.1;
                particle.style.zIndex = '1';
                particle.style.pointerEvents = 'none';
                
                container.appendChild(particle);
                
                animateGameParticle(particle);
            }
        }

        function animateParticle(particle) {
            let x = parseFloat(particle.style.left);
            let y = parseFloat(particle.style.top);
            let xSpeed = (Math.random() - 0.5) * 0.2;
            let ySpeed = (Math.random() - 0.5) * 0.2;
            
            function move() {
                x += xSpeed;
                y += ySpeed;
                
                if (x <= 0 || x >= 100) xSpeed *= -1;
                if (y <= 0 || y >= 100) ySpeed *= -1;
                
                particle.style.left = `${x}vw`;
                particle.style.top = `${y}vh`;
                
                requestAnimationFrame(move);
            }
            
            move();
        }

        function animateGameParticle(particle) {
            let y = parseFloat(particle.style.top);
            let speed = Math.random() * 0.3 + 0.2;
            
            function move() {
                y -= speed;
                
                if (y <= -5) {
                    y = 105;
                    particle.style.left = Math.random() * 100 + 'vw';
                }
                
                particle.style.top = `${y}vh`;
                
                requestAnimationFrame(move);
            }
            
            move();
        }

        // Effets sonores
        function playSound(type) {
            if (type === 'click') {
                try {
                    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    oscillator.frequency.value = 600;
                    oscillator.type = 'sine';
                    
                    gainNode.gain.setValueAtTime(0.05, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.1);
                    
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.1);
                } catch (e) {
                    console.log("Audio context non support√©");
                }
            }
        }

        // Ajouter des effets sonores aux clics
        document.querySelectorAll('button, .command, .map-node, .sidebar-node').forEach(element => {
            element.addEventListener('click', () => playSound('click'));
            element.addEventListener('touchstart', () => playSound('click'));
        });
    </script>
</body>
</html>